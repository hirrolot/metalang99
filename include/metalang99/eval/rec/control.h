#ifndef METALANG99_EVAL_REC_CONTROL_H
#define METALANG99_EVAL_REC_CONTROL_H

#define METALANG99_PRIV_REC_STOP_HOOK()      METALANG99_PRIV_REC_STOP
#define METALANG99_PRIV_REC_STOP(_k_cx, ...) 0stop, __VA_ARGS__

#define METALANG99_PRIV_REC_CONTINUE(k) 0continue, METALANG99_PRIV_REC_DEFER(k##_HOOK)()

#define METALANG99_PRIV_REC_DEFER(op) op METALANG99_PRIV_REC_EMPTY()

#define METALANG99_PRIV_REC_EMPTY()
#define METALANG99_PRIV_REC_EXPAND(...) __VA_ARGS__

#define METALANG99_PRIV_REC_UNPARENTHESISE(x)                                                      \
    METALANG99_PRIV_REC_EXPAND(METALANG99_PRIV_REC_EXPAND x)

#endif // METALANG99_EVAL_REC_CONTROL_H
